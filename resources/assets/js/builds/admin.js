!function t(e,n,r){function o(i,s){if(!n[i]){if(!e[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[i]={exports:{}};e[i][0].call(f.exports,function(t){var n=e[i][1][t];return o(n?n:t)},f,f.exports,t,e,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=t("./components/Admin"),a=r(o),i=new a["default"].sharedInstance;$(function(){function t(t,n,r,o,a){$.ajax({url:t,type:n,data:r?{_token:$("meta[name=_token]").attr("content"),userIDs:r,action:o}:{_token:$("meta[name=_token]").attr("content")},dataType:"json",success:function(t){"error"!=t.status?(swal({title:t.message,timer:1050,type:"success",showConfirmButton:!1}),$("tr[data-id="+e+"]").fadeOut(),setTimeout(function(){return $("tr[data-id="+e+"]").remove()},500),a&&a()):toastr.error(t.message)},error:function(t){toastr.error(t.responseText)}})}var e=0;$(".delete-btn").each(function(){var n=this;$(this).on("click",function(r){return r.preventDefault(),i.showWarningAlert({title:"确定该删除操作?",text:"删除后将无法撤销",confirm:"我确认!",cancel:"手贱了"},function(){e=$($(n).parents("tr")[0]).attr("data-id");var r=$($(n).parents("table")[0]).attr("action-url")+"/"+e;t(r,"DELETE")}),!1})}),$(".confirm-button.delete").each(function(){var e=this;$(this).on("click",function(n){n.preventDefault();var r=$(e).attr("redirect");return i.showWarningAlert({title:"确定该删除操作?",text:"删除后将无法撤销",confirm:"我确认!",cancel:"手贱了"},function(){t(window.location.href,"DELETE",null,null,function(){setTimeout(function(){return window.location.href=r},500)})}),!1})}),$(".edit-btn").each(function(){var t=this;$(this).on("click",function(e){return e.preventDefault(),window.location.href=$($(t).parents("table")[0]).attr("action-url")+"/"+$($(t).parents("tr")[0]).attr("data-id"),!1})}),$("[editor]").summernote({lang:"zh-CN",callbacks:{onImageUpload:function(t){t.length&&$(t).each(function(){var t=new FormData;t.append("image",this),$.ajax({url:"/upload",type:"POST",dataType:"json",data:t,enctype:"multipart/form-data",processData:!1,contentType:!1,success:function(t){"error"!=t.status?$("[editor]").summernote("insertImage",t.url):toastr.error(t.message)},error:function(t){toastr.error(t.responseText)}})})}}}),$("select[tags]").select2({tags:!0}),Dropzone.options.uploader={paramName:"image",dictDefaultMessage:"拖拽或者点击上传图片"},$("form:not(.editor):not([role=search])").on("submit",function(t){t.preventDefault();var e=t.target,n=$(e).serialize();$.ajax({url:e.action,type:$($(e).find("input[name=_method]")[0]).val(),data:n,dataType:"json",success:function(t){return"undefined"==typeof t.redirect?("success"==t.status?toastr.success(t.message):toastr.error(t.message),!1):(window.location.href=t.redirect,!1)},error:function(t){if(422===t.status){var n=JSON.parse(t.responseText),r=function(t){var r="[name="+t+"]",o=$($(e).find(r)[0]).parents(".form-group")[0];$(o).addClass("has-error shaky"),setTimeout(function(){return $(o).removeClass("has-error shaky")},8e3),$(r).focus(),toastr.error("<h5>"+n[t][0]+"</h5>")};for(var o in n)r(o)}else toastr.error(t.responseText)},complete:function(){$($(e).find("input[name=body]")[0]).remove()}})})})},{"./components/Admin":2}],2:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t)}return o(t,[{key:"showWarningAlert",value:function(t,e){swal({title:t.title,text:t.text,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:t.confirm,cancelButtonText:t.cancel,closeOnConfirm:!1,showLoaderOnConfirm:!0},function(t){t&&e()})}}],[{key:"sharedInstance",value:function(){return new t}}]),t}();n["default"]=a},{}]},{},[1]);